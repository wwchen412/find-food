(this["webpackJsonpfind-food"]=this["webpackJsonpfind-food"]||[]).push([[0],{22:function(e,t,n){e.exports=n.p+"static/media/mark.f9b6fa60.svg"},24:function(e,t,n){e.exports=n(41)},29:function(e,t,n){},30:function(e,t,n){},38:function(e,t,n){e.exports=n.p+"static/media/cloud1.dc881fa0.svg"},39:function(e,t,n){e.exports=n.p+"static/media/cloud2.73806bd2.svg"},40:function(e,t,n){e.exports=n.p+"static/media/cloud3.5ba04788.svg"},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(3),o=n.n(l),i=(n(29),n(30),n(8)),c=n(2),s=n(18),u=n(7),m=n(10),f=function(e){for(var t=parseInt(Math.round(e.rating)),n=[],a=0;a<t;a++)n.push("star--yellow");for(var l=n.length;l<5;l++)n.push("star--empty");return r.a.createElement(r.a.Fragment,null,n&&n.map((function(e,t){return r.a.createElement("div",{className:"star "+e,key:t})})))};function d(){var e=Object(i.a)(["\n\n    display: inline-block;\n    width: calc((100% - 2rem) /2);\n    border: 1px solid #eee;\n    padding: 1rem;\n    border-radius: 1rem;\n    margin-right: .5rem;\n    margin-bottom: 1rem;\n    box-sizing: border-box;\n    background:#fff;\n    @media (max-width: 575px) {\n      width: calc(100% - 1rem);\n      margin:0 auto 1rem;\n    }\n  h3{\n    text-overflow : ellipsis;\n    white-space : nowrap;\n    overflow: hidden;\n  }\n  .star {\n  position: relative;\n  \n  display: inline-block;\n  width: 0;\n  height: 0;\n  \n  margin-left: .9em;\n  margin-right: .9em;\n  margin-bottom: 1.2em;\n  border-right:  .3em solid transparent;\n  border-bottom: .7em  solid #FC0;\n  border-left:   .3em solid transparent;\n  font-size: 8px;\n  \n  &:before, &:after {\n    content: '';\n    display: block;\n    width: 0;\n    height: 0;\n    position: absolute;\n    top: .6em;\n    left: -1em;\n    border-right:  1em solid transparent;\n    border-bottom: .7em  solid #FC0;\n    border-left:   1em solid transparent;\n    transform: rotate(-35deg);\n  }\n  &:after {  \n    transform: rotate(35deg);\n  }\n}\n  .star--empty{\n    border-bottom: .7em  solid #ccc;\n    &:before, &:after{\n      border-bottom: .7em  solid #ccc;\n    }\n  }\n"]);return d=function(){return e},e}var p=m.a.div(d()),b=function(e){return r.a.createElement(p,{key:e.placeId},r.a.createElement("h3",null,e.placeName),r.a.createElement(f,{rating:e.rating,key:e.placeId}))},y=n(11),g=n(22),h=n.n(g),v=["places"],E={width:"60%",height:"400px"},O={styles:[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"all",stylers:[{visibility:"simplified"},{color:"#5b6571"},{lightness:"35"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"on"},{color:"#f3f4f4"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{weight:.9},{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b6dbcb"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"},{color:"#faebb1"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"simplified"},{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#d5eaf5"}]}],disableDefaultUI:!0};function T(){var e=Object(y.d)({googleMapsApiKey:"AIzaSyBsYSHr4f_HClzQBQFlMgJ755jsl-XBGyU",libraries:v}),t=e.isLoaded,n=e.loadError,l=Object(c.c)((function(e){return e.markers})),o=Object(c.c)((function(e){return e.location})),i=Object(a.useState)(null),s=Object(u.a)(i,2),m=s[0],f=s[1];return n?"Error loading maps":t?l&&l.constructor===Array&&0===l.length?null:r.a.createElement(y.a,{mapContainerStyle:E,zoom:15,center:o,options:O,defaultVisible:!1},l.map((function(e){return r.a.createElement(y.c,{key:e.placeId,icon:{url:h.a,scaledSize:new window.google.maps.Size(30,30)},position:{lat:e.location.lat,lng:e.location.lng},onClick:function(){return f(e)}})})),m?r.a.createElement(y.b,{position:{lat:m.location.lat,lng:m.location.lng},onCloseClick:function(){return f(null)}},r.a.createElement("div",null,r.a.createElement("h4",null,m.placeName))):null):"Loading maps"}var w=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),m=i[0],f=i[1],d=Object(a.useState)(null),p=Object(u.a)(d,2),y=p[0],g=p[1],h=Object(c.c)((function(e){return e.food})),v=Object(c.c)((function(e){return e.markers})),E=Object(c.b)(),O=function(){l(!0);var e=[];fetch("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?"+y+"&radius=3000&type=restaurant&keyword="+h+"&key=AIzaSyBsYSHr4f_HClzQBQFlMgJ755jsl-XBGyU").then((function(e){return e.json()})).then((function(t){var n,a=Object(s.a)(t.results);try{for(a.s();!(n=a.n()).done;){var r=n.value,o={},i={lat:r.geometry.location.lat,lng:r.geometry.location.lng};o.rating=r.rating,o.location=i,o.placeId=r.place_id,o.placeName=r.name,e.push(o)}}catch(c){a.e(c)}finally{a.f()}f(e),E(function(e){return{type:"SET_MARKERS",markers:e}}(e)),l(!1)})).catch((function(e){console.log(e),l(!1)}))};return Object(a.useEffect)((function(){!function(){var e=new XMLHttpRequest;e.open("POST","https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyBsYSHr4f_HClzQBQFlMgJ755jsl-XBGyU"),e.onload=function(){var e=JSON.parse(this.responseText);g("location="+e.location.lat+","+e.location.lng),E(function(e){return{type:"SET_GEOLOCATION",location:e}}({lat:e.location.lat,lng:e.location.lng}))},e.send()}()}),[]),Object(a.useEffect)((function(){v&&0!==v.length&&O()}),[h]),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{style:{marginLeft:"15px"},onClick:function(){return O()}},"\u63a8\u85a6\u6211\u5e97\u9762"),r.a.createElement("div",{style:{padding:"2rem 0"}},n&&r.a.createElement("div",null,"Loading...."),r.a.createElement("div",{className:"Place_result"},r.a.createElement("div",{className:"Place_result_list"},m&&m.map((function(e){return r.a.createElement(b,{placeName:e.placeName,rating:e.rating,key:e.placeId})}))),r.a.createElement(T,null))))};function j(){var e=Object(i.a)(["\n\n    color:#9b9b9b;\n    font-weight:100;\n    &_wrap{\n        overflow: hidden;\n        position:relative;\n    }\n    &_title{\n        font-size: 3rem;\n    }\n    &_subTitle{\n        font-size: 1rem;\n    }\n    &_sun{\n        width: 250px;\n        height: 250px;\n        border-radius:50%;\n        box-shadow: 0 0 80px 0 #fae348;\n        margin: 50px auto 75px; \n        background-image: radial-gradient(circle at 50% 50%, #f5f3d6, #fffab8 71%);\n    }\n    &_clouds{\n        position: absolute;\n        animation: "," 4s infinite alternate;\n        opacity: .8;\n        &.cloud1{\n            top: calc(50% + 50px);\n            left: calc(50% + 150px);\n        }\n        &.cloud2{\n            top: calc(50% - 100px);\n            right: calc(50% + 150px);\n        }\n        &.cloud3{\n            top: 10%;\n            right: 10%;\n        }\n    }\n   \n    button{\n        appearance: none;\n        min-width: 150px;\n        background:transparent;\n        padding:.5rem 1.5rem;\n        border-radius: 2rem;\n        border: solid 1px #9b9b9b;\n        color:#9b9b9b;\n        outline:0;\n        cursor: pointer;\n        &:hover{\n            background: #9b9b9b;\n            color:#fff;\n        }\n        &:active,&:hover{\n            outline:0;\n        }\n    }\n    .Place_result{\n        display:flex;\n        align-items:top;\n        &_list{\n            width:40%;\n        }\n    }\n\n"]);return j=function(){return e},e}function k(){var e=Object(i.a)(["\n     0% { transform: translateX(-10%); }\n    100% { transform: translateX(0); }\n"]);return k=function(){return e},e}var _=Object(m.b)(k()),x=Object(m.a)((function(e){var t=e.className,a=Object(c.c)((function(e){return e.food})),l=Object(c.b)();return r.a.createElement("div",{className:t},r.a.createElement("section",{className:t+"_wrap"},r.a.createElement("h1",{className:t+"_title"},"\u4f5b\u7cfb\u627e\u98df"),r.a.createElement("h3",{className:t+"_subTitle"},"\u7e3d\u662f\u60f3\u4e0d\u5230\u8981\u5403\u4ec0\u9ebc\u55ce\uff1f",r.a.createElement("br",null),"\u4e0d\u5982\u5c31\u96a8\u7de3\u5427\uff01"),r.a.createElement("div",{className:t+"_sun"}),r.a.createElement("div",{className:t+"_clouds cloud1"},r.a.createElement("img",{src:n(38),alt:""})),r.a.createElement("div",{className:t+"_clouds cloud2"},r.a.createElement("img",{src:n(39),alt:""})),r.a.createElement("div",{className:t+"_clouds cloud3"},r.a.createElement("img",{src:n(40),alt:""}))),!a&&r.a.createElement("button",{onClick:function(e){e.preventDefault(),l({type:"GET_RANDOM_FOOD"})}},"\u96a8\u7de3\u5c0b\u627e"),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"\u5c31\u6c7a\u5b9a\u5403",r.a.createElement("span",{style:{color:"#ffbb00"}},a),"\u4e86!"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),l({type:"GET_RANDOM_FOOD"})}},"\u8b93\u6211\u518d\u91cd\u62bd\u4e00\u6b21"),r.a.createElement(w,null)))}))(j(),_);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=n(13),z=n(23),C=n(12),A={food:"",foodList:["pizza","\u9eb5","\u96de\u8089\u98ef","\u65e5\u5f0f","\u62c9\u9eb5","\u901f\u98df","\u6cf0\u5f0f","\u7fa9\u5927\u5229\u9eb5","\u65e9\u5348\u9910","\u97d3\u5f0f","\u5496\u55b1\u98ef","\u706b\u934b","\u81ea\u52a9\u9910","\u7f8e\u5f0f\u6f22\u5821","\u6e2f\u5f0f","\u6cb3\u7c89","\u6ef7\u5473"],location:window.navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;return{lat:t.latitude,lng:t.longitude}})),markers:[]};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RANDOM_FOOD":return Object(C.a)({},e,{food:e.foodList[Math.floor(Math.random()*e.foodList.length)]});case"SET_GEOLOCATION":return Object(C.a)({},e,{location:Object(C.a)({},t.location)});case"SET_MARKERS":return Object(C.a)({},e,{markers:Object(z.a)(t.markers)});default:return e}},M=Object(S.b)(I);M.subscribe((function(){return console.log(M.getState())}));o.a.render(r.a.createElement(c.a,{store:M},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.64cfd6ea.chunk.js.map