(this["webpackJsonpfind-food"]=this["webpackJsonpfind-food"]||[]).push([[0],{22:function(e,t,n){e.exports=n.p+"static/media/mark.f9b6fa60.svg"},24:function(e,t,n){e.exports=n(41)},29:function(e,t,n){},30:function(e,t,n){},38:function(e,t,n){e.exports=n.p+"static/media/cloud1.dc881fa0.svg"},39:function(e,t,n){e.exports=n.p+"static/media/cloud2.73806bd2.svg"},40:function(e,t,n){e.exports=n.p+"static/media/cloud3.5ba04788.svg"},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),l=n.n(o),i=(n(29),n(30),n(8)),c=function(e){return{type:"SET_SELECTED",location:e.location,placeName:e.placeName}},s=n(2),u=n(18),m=n(13),f=n(10),d=function(e){for(var t=parseInt(Math.round(e.rating)),n=[],a=0;a<t;a++)n.push("star--yellow");for(var o=n.length;o<5;o++)n.push("star--empty");return r.a.createElement(r.a.Fragment,null,n&&n.map((function(e,t){return r.a.createElement("div",{className:"star "+e,key:t})})))};function p(){var e=Object(i.a)(["\n\n    display: inline-block;\n    width: calc((100% - 2rem) /2);\n    border: 1px solid #eee;\n    padding: 1rem;\n    border-radius: 1rem;\n    margin-right: .5rem;\n    margin-bottom: 1rem;\n    box-sizing: border-box;\n    background:#fff;\n    @media (max-width: 575px) {\n      width: calc(100% - 1rem);\n      margin:0 auto 1rem;\n    }\n  h3{\n    text-overflow : ellipsis;\n    white-space : nowrap;\n    overflow: hidden;\n  }\n  .star {\n  position: relative;\n  \n  display: inline-block;\n  width: 0;\n  height: 0;\n  \n  margin-left: .9em;\n  margin-right: .9em;\n  margin-bottom: 1.2em;\n  border-right:  .3em solid transparent;\n  border-bottom: .7em  solid #FC0;\n  border-left:   .3em solid transparent;\n  font-size: 8px;\n  \n  &:before, &:after {\n    content: '';\n    display: block;\n    width: 0;\n    height: 0;\n    position: absolute;\n    top: .6em;\n    left: -1em;\n    border-right:  1em solid transparent;\n    border-bottom: .7em  solid #FC0;\n    border-left:   1em solid transparent;\n    transform: rotate(-35deg);\n  }\n  &:after {  \n    transform: rotate(35deg);\n  }\n}\n  .star--empty{\n    border-bottom: .7em  solid #ccc;\n    &:before, &:after{\n      border-bottom: .7em  solid #ccc;\n    }\n  }\n"]);return p=function(){return e},e}var b=f.a.div(p()),y=function(e){var t=Object(s.b)();return r.a.createElement(b,{key:e.placeId,onClick:function(){return t(c(e))}},r.a.createElement("h3",null,e.placeName),r.a.createElement(d,{rating:e.rating,key:e.placeId}))},g=n(11),h=n(22),v=n.n(h),E=["places"],w={width:"60%",height:"400px"},T={styles:[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"all",stylers:[{visibility:"simplified"},{color:"#5b6571"},{lightness:"35"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"on"},{color:"#f3f4f4"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{weight:.9},{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b6dbcb"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"},{color:"#faebb1"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"simplified"},{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#d5eaf5"}]}],disableDefaultUI:!0};function O(){var e=Object(g.d)({googleMapsApiKey:"AIzaSyBsYSHr4f_HClzQBQFlMgJ755jsl-XBGyU",libraries:E}),t=e.isLoaded,n=e.loadError,a=Object(s.c)((function(e){return e.markers})),o=Object(s.c)((function(e){return e.location})),l=Object(s.c)((function(e){return e.selected})),i=Object(s.b)();return n?"Error loading maps":t?a&&a.constructor===Array&&0===a.length?null:r.a.createElement(g.a,{mapContainerStyle:w,zoom:15,center:o,options:T,defaultVisible:!1},a.map((function(e){return r.a.createElement(g.c,{key:e.placeId,icon:{url:v.a,scaledSize:new window.google.maps.Size(30,30)},position:{lat:e.location.lat,lng:e.location.lng},onClick:function(){return i(c(e))}})})),l?r.a.createElement(g.b,{position:{lat:l.location.lat,lng:l.location.lng}},r.a.createElement("div",null,r.a.createElement("h4",null,l.placeName))):null):"Loading maps"}var j=function(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)([]),i=Object(m.a)(l,2),c=i[0],f=i[1],d=Object(a.useState)(null),p=Object(m.a)(d,2),b=p[0],g=p[1],h=Object(s.c)((function(e){return e.food})),v=Object(s.c)((function(e){return e.markers})),E=Object(s.b)(),w=function(){o(!0);var e=[];fetch("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?"+b+"&radius=3000&type=restaurant&keyword="+h+"&key=AIzaSyBsYSHr4f_HClzQBQFlMgJ755jsl-XBGyU").then((function(e){return e.json()})).then((function(t){var n,a=Object(u.a)(t.results);try{for(a.s();!(n=a.n()).done;){var r=n.value,l={},i={lat:r.geometry.location.lat,lng:r.geometry.location.lng};l.rating=r.rating,l.location=i,l.placeId=r.place_id,l.placeName=r.name,e.push(l)}}catch(c){a.e(c)}finally{a.f()}f(e),E(function(e){return{type:"SET_MARKERS",markers:e}}(e)),o(!1)})).catch((function(e){console.log(e),o(!1)}))};return Object(a.useEffect)((function(){!function(){var e=new XMLHttpRequest;e.open("POST","https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyBsYSHr4f_HClzQBQFlMgJ755jsl-XBGyU"),e.onload=function(){var e=JSON.parse(this.responseText);g("location="+e.location.lat+","+e.location.lng),E(function(e){return{type:"SET_GEOLOCATION",location:e}}({lat:e.location.lat,lng:e.location.lng}))},e.send()}()}),[]),Object(a.useEffect)((function(){v&&0!==v.length&&w()}),[h]),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{style:{marginLeft:"15px"},onClick:function(){return w()}},"\u63a8\u85a6\u6211\u5e97\u9762"),r.a.createElement("div",{style:{padding:"2rem 0"}},n&&r.a.createElement("div",null,"Loading...."),r.a.createElement("div",{className:"Place_result"},r.a.createElement("div",{className:"Place_result_list"},c&&c.map((function(e){return r.a.createElement(y,{placeName:e.placeName,location:e.location,rating:e.rating,key:e.placeId})}))),r.a.createElement(O,null))))};function x(){var e=Object(i.a)(["\n\n    color:#9b9b9b;\n    font-weight:100;\n    &_wrap{\n        overflow: hidden;\n        position:relative;\n    }\n    &_title{\n        font-size: 3rem;\n        font-weight:100;\n    }\n    &_subTitle{\n        font-size: 1rem;\n        font-weight:300;\n    }\n    &_sun{\n        width: 250px;\n        height: 250px;\n        border-radius:50%;\n        box-shadow: 0 0 80px 0 #fae348;\n        margin: 50px auto 75px; \n        background-image: radial-gradient(circle at 50% 50%, #f5f3d6, #fffab8 71%);\n        animation: "," 2s infinite linear alternate;\n    }\n    &_clouds{\n        position: absolute;\n      \n        opacity: .8;\n        &.cloud1{\n            top: calc(50% + 50px);\n            left: calc(50% + 150px);\n        }\n        &.cloud2{\n            top: calc(50% - 100px);\n            right: calc(50% + 150px);\n        }\n        &.cloud3{\n            top: 10%;\n            right: 10%;\n            z-index:-1;\n        }\n    }\n   \n    button{\n        appearance: none;\n        min-width: 150px;\n        background:transparent;\n        padding:.5rem 1.5rem;\n        border-radius: 2rem;\n        border: solid 1px #9b9b9b;\n        color:#9b9b9b;\n        outline:0;\n        cursor: pointer;\n        &:hover{\n            background: #9b9b9b;\n            color:#fff;\n        }\n        &:active,&:hover{\n            outline:0;\n        }\n    }\n    .Place_result{\n        display:flex;\n        align-items:top;\n        &_list{\n            width:40%;\n            max-height:400px;\n            overflow-y: scroll;\n        }\n    }\n\n"]);return x=function(){return e},e}function k(){var e=Object(i.a)(["\n     0% { box-shadow: 0 0 20px 0 #fae348; }\n    100% { box-shadow: 0 0 80px 0 #fae348;}\n"]);return k=function(){return e},e}var _=Object(f.b)(k()),N=Object(f.a)((function(e){var t=e.className,o=Object(s.c)((function(e){return e.food})),l=Object(s.b)(),i=function(e){var t=Math.floor(e.clientX/20),n=Math.floor(e.clientY/20);document.querySelectorAll(".cloudAnime").forEach((function(e){e.style.transform="translate(-".concat(t,"px,-").concat(n,"px)")}))};return Object(a.useEffect)((function(){document.getElementById("sky").addEventListener("mousemove",i)})),r.a.createElement("div",{className:t},r.a.createElement("section",{className:t+"_wrap",id:"sky"},r.a.createElement("h1",{className:t+"_title"},"\u4f5b\u7cfb\u627e\u98df"),r.a.createElement("h3",{className:t+"_subTitle"},"\u7e3d\u662f\u60f3\u4e0d\u5230\u8981\u5403\u4ec0\u9ebc\u55ce\uff1f",r.a.createElement("br",null),"\u4e0d\u5982\u5c31\u96a8\u7de3\u5427\uff01"),r.a.createElement("div",{className:t+"_sun"}),r.a.createElement("div",{className:t+"_clouds cloud1 cloudAnime"},r.a.createElement("img",{src:n(38),alt:""})),r.a.createElement("div",{className:t+"_clouds cloud2 cloudAnime"},r.a.createElement("img",{src:n(39),alt:""})),r.a.createElement("div",{className:t+"_clouds cloud3 cloudAnime"},r.a.createElement("img",{src:n(40),alt:""}))),!o&&r.a.createElement("button",{onClick:function(e){e.preventDefault(),l({type:"GET_RANDOM_FOOD"})}},"\u96a8\u7de3\u5c0b\u627e"),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"\u5c31\u6c7a\u5b9a\u5403",r.a.createElement("span",{style:{color:"#ffbb00"}},o),"\u4e86!"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),l({type:"GET_RANDOM_FOOD"})}},"\u8b93\u6211\u518d\u91cd\u62bd\u4e00\u6b21"),r.a.createElement(j,null)))}))(x(),_);var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(12),z=n(23),C=n(7),M={food:"",foodList:["pizza","\u9eb5","\u96de\u8089\u98ef","\u65e5\u5f0f\u6599\u7406","\u62c9\u9eb5","\u901f\u98df","\u6cf0\u5f0f","\u7fa9\u5927\u5229\u9eb5","\u65e9\u5348\u9910","\u97d3\u5f0f","\u5496\u55b1\u98ef","\u706b\u934b","\u81ea\u52a9\u9910","\u7f8e\u5f0f\u6f22\u5821","\u6e2f\u5f0f","\u6cb3\u7c89","\u6ef7\u5473","\u70b8\u96de\u6392","\u7ca5","\u6c99\u62c9","\u725b\u6392"],location:window.navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;return{lat:t.latitude,lng:t.longitude}})),markers:[],selected:null};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RANDOM_FOOD":return Object(C.a)({},e,{food:e.foodList[Math.floor(Math.random()*e.foodList.length)]});case"SET_GEOLOCATION":return Object(C.a)({},e,{location:Object(C.a)({},t.location)});case"SET_MARKERS":return Object(C.a)({},e,{markers:Object(z.a)(t.markers)});case"SET_SELECTED":return Object(C.a)({},e,{selected:{location:t.location,placeName:t.placeName}});default:return e}},L=Object(A.b)(I);l.a.render(r.a.createElement(s.a,{store:L},r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.4237598e.chunk.js.map