{"version":3,"sources":["img/mark.svg","img/cloud1.svg","img/cloud2.svg","img/cloud3.svg","components/Rating.js","components/PlaceList.js","components/Map.js","components/mapStyles.js","components/Nearby.js","action.js","components/Search.js","App.js","serviceWorker.js","reducer.js","index.js"],"names":["module","exports","Rating","props","stars","parseInt","Math","round","rating","starsArray","i","push","a","length","map","star","index","className","key","Place","styled","div","PlaceList","placeId","placeName","libraries","mapContainerStyle","width","height","options","styles","disableDefaultUI","Map","useLoadScript","googleMapsApiKey","process","isLoaded","loadError","markers","useSelector","state","center","location","useState","selected","setSelected","constructor","Array","zoom","defaultVisible","marker","icon","url","vector","scaledSize","window","google","maps","Size","position","lat","lng","onClick","onCloseClick","Nearby","spining","SetSpining","listPlaces","SetlistPlaces","Setlocation","searchText","food","dispatch","useDispatch","searchFood","places","fetch","then","res","json","results","googlePlace","place","geometry","place_id","name","type","setMarkers","catch","error","console","log","useEffect","xhr","XMLHttpRequest","open","onload","response","JSON","parse","this","responseText","setLocation","send","style","cloudsAnimation","keyframes","MainPage","src","require","alt","evt","preventDefault","App","Boolean","hostname","match","initialState","foodList","navigator","geolocation","getCurrentPosition","pos","crd","coords","latitude","longitude","appFood","action","floor","random","store","createStore","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.043a6081.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mark.f9b6fa60.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloud1.dc881fa0.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloud2.73806bd2.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloud3.5ba04788.svg\";","import React from 'react';\n\nconst Rating = (props) => {\n    \n        const stars = parseInt(Math.round(props.rating));\n        const starsArray = [];\n        for(let i = 0;i<stars;i++){\n            starsArray.push('star--yellow')\n        }\n        for(let a = starsArray.length; a < 5;a++ ){\n            starsArray.push('star--empty')\n        }\n      \n    \n    return (\n        <>\n        { starsArray && \n            starsArray.map((star,index)=>(\n                <div className={\"star \"+star} key={index}></div>\n                ))\n        }\n        </>\n    )\n}\n\nexport default Rating;","import React from 'react';\nimport styled from 'styled-components';\nimport Rating from './Rating';\n\n\nconst Place = styled.div`\n\n    display: inline-block;\n    width: calc((100% - 2rem) /2);\n    border: 1px solid #eee;\n    padding: 1rem;\n    border-radius: 1rem;\n    margin-right: .5rem;\n    margin-bottom: 1rem;\n    box-sizing: border-box;\n    background:#fff;\n    @media (max-width: 575px) {\n      width: calc(100% - 1rem);\n      margin:0 auto 1rem;\n    }\n  h3{\n    text-overflow : ellipsis;\n    white-space : nowrap;\n    overflow: hidden;\n  }\n  .star {\n  position: relative;\n  \n  display: inline-block;\n  width: 0;\n  height: 0;\n  \n  margin-left: .9em;\n  margin-right: .9em;\n  margin-bottom: 1.2em;\n  border-right:  .3em solid transparent;\n  border-bottom: .7em  solid #FC0;\n  border-left:   .3em solid transparent;\n  font-size: 8px;\n  \n  &:before, &:after {\n    content: '';\n    display: block;\n    width: 0;\n    height: 0;\n    position: absolute;\n    top: .6em;\n    left: -1em;\n    border-right:  1em solid transparent;\n    border-bottom: .7em  solid #FC0;\n    border-left:   1em solid transparent;\n    transform: rotate(-35deg);\n  }\n  &:after {  \n    transform: rotate(35deg);\n  }\n}\n  .star--empty{\n    border-bottom: .7em  solid #ccc;\n    &:before, &:after{\n      border-bottom: .7em  solid #ccc;\n    }\n  }\n`;\nconst PlaceList = (props)=> {\n    return(\n        <Place key={props.placeId}>\n            <h3>{props.placeName}</h3>\n            <Rating rating={props.rating} key={props.placeId}></Rating>\n        </Place>\n    )\n}\n\nexport default PlaceList;","import React, { useState } from 'react'\nimport { \n    GoogleMap, \n    useLoadScript ,\n    Marker,\n    InfoWindow\n} from '@react-google-maps/api';\nimport { useSelector } from 'react-redux';\nimport mapStyles from './mapStyles';\nimport vector from '../img/mark.svg';\n\nconst libraries = [\"places\"];\nconst mapContainerStyle = {\n    width: '60%',\n    height: '400px'\n}\n\nconst options = {\n    styles:mapStyles,\n    disableDefaultUI: true\n}\nexport default function  Map(){\n\n    const { isLoaded,loadError} = useLoadScript({\n        googleMapsApiKey:process.env.REACT_APP_MAP_API_KEY,\n        libraries,\n    })\n\n    const markers = useSelector(state => state.markers);\n    const center = useSelector(state => state.location);\n\n    const [selected,setSelected] = useState(null);\n    \n\n    if(loadError) return 'Error loading maps';\n    if(!isLoaded) return 'Loading maps';\n    if(markers && markers.constructor === Array && markers.length === 0) return null\n    \n    return(\n       \n       <GoogleMap   mapContainerStyle={mapContainerStyle}\n                    zoom={15}\n                    center={center}\n                    options={options}\n                    defaultVisible={false}>\n            {markers.map(marker => \n                <Marker \n                        key={marker.placeId}\n                        icon={{ url: vector,\n                                scaledSize: new window.google.maps.Size(30, 30)\n                            }}\n                position={{ lat: marker.location.lat, lng:marker.location.lng}}\n                onClick={()=>setSelected(marker)}\n                \n            />)}\n            {selected ? (<InfoWindow    position={{lat:selected.location.lat,lng:selected.location.lng}}\n                                        onCloseClick={()=>setSelected(null)}>\n                    <div>\n                        <h4>{selected.placeName}</h4>\n                    </div>\n                </InfoWindow>) : null}\n       </GoogleMap>\n    )\n}","export default [\n    {\n        \"featureType\": \"all\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"administrative\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"simplified\"\n            },\n            {\n                \"color\": \"#5b6571\"\n            },\n            {\n                \"lightness\": \"35\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"administrative.neighborhood\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"landscape\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"color\": \"#f3f4f4\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"landscape.man_made\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"weight\": 0.9\n            },\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"color\": \"#b6dbcb\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"color\": \"#ffffff\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"color\": \"#faebb1\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"labels.icon\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway.controlled_access\",\n        \"elementType\": \"labels.icon\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.arterial\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"simplified\"\n            },\n            {\n                \"color\": \"#ffffff\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.arterial\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.arterial\",\n        \"elementType\": \"labels.icon\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"elementType\": \"all\",\n        \"stylers\": [\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"color\": \"#d5eaf5\"\n            }\n        ]\n    }\n]","import React ,{ useState, useEffect }from 'react';\nimport PlaceList from './PlaceList';\nimport Map from './Map';\nimport { useSelector ,useDispatch} from 'react-redux';\nimport { setLocation, setMarkers } from '../action'\n\nconst Nearby = () =>{\n    const [spining,SetSpining] = useState(null);\n    const [listPlaces,SetlistPlaces] = useState([]);\n    const [location, Setlocation] = useState(null);\n\n\n    const searchText = useSelector(state => state.food);\n    const markers = useSelector(state => state.markers);\n    const dispatch = useDispatch();\n\n    const getGeolocation = () => {\n        const geolocationUrl = 'https://www.googleapis.com/geolocation/v1/geolocate?key='+process.env.REACT_APP_MAP_API_KEY;\n        (function() {\n            var xhr = new XMLHttpRequest();\n            xhr.open('POST', geolocationUrl);\n            xhr.onload = function () {\n                var response = JSON.parse(this.responseText);\n                Setlocation('location='+response.location.lat+','+response.location.lng);\n                dispatch(setLocation({lat:response.location.lat,lng:response.location.lng}))\n            }\n            xhr.send();\n        })();\n    \n    }\n\n    \n    const searchFood = ()=>{\n        \n        SetSpining(true);\n        const places = [];\n        const url = 'https://cors-anywhere.herokuapp.com/'+'https://maps.googleapis.com/maps/api/place/nearbysearch/json?'+location+'&radius=3000&type=restaurant&keyword='+searchText+'&key='+process.env.REACT_APP_MAP_API_KEY;\n        \n        fetch(url)\n        .then(res=> res.json())\n        .then(res=>{\n            for (let googlePlace of res.results) {\n                var place = {};\n                var myLat = googlePlace.geometry.location.lat;\n                var myLong = googlePlace.geometry.location.lng;\n                var location = {\n                    lat: myLat,\n                    lng: myLong,\n                };\n                place['rating'] = googlePlace.rating;\n                place['location'] = location;\n                place['placeId'] = googlePlace.place_id;\n                place['placeName'] = googlePlace.name;\n                places.push(place);\n            }\n            SetlistPlaces(places);\n            dispatch(setMarkers(places))\n            SetSpining(false);\n        })\n        .catch(error => { \n            console.log(error);\n            SetSpining(false);\n        });\n    }\n    useEffect(()=>{\n        getGeolocation()\n    },[])\n\n    useEffect(()=>{\n        if(markers && markers.length !== 0){\n            searchFood()\n        }\n    },[searchText])\n\n    \n    return(\n        <>\n            <button style={{\"marginLeft\":\"15px\"}} onClick={()=>searchFood()}>推薦我店面</button>\n            <div style={{\"padding\":\"2rem 0\"}}>\n                {spining && (<div>Loading....</div>)}\n                <div className=\"Place_result\">\n                    <div className=\"Place_result_list\">\n                    { listPlaces && \n                        listPlaces.map((place)=>(\n                            <PlaceList  placeName={place.placeName} \n                                        rating={place.rating}\n                                        key={place.placeId}>\n                            </PlaceList>\n                            ))\n                    }\n                    </div>\n                    \n                        <Map></Map>\n                </div>\n                \n            </div>\n            </>\n    )\n}\n\nexport default Nearby;","export const GET_RANDOM_FOOD = 'GET_RANDOM_FOOD'\nexport const SET_GEOLOCATION = 'SET_GEOLOCATION'\nexport const SET_MARKERS = 'SET_MARKERS';\n\nexport const getRandomFood = () => {\n    return {type:GET_RANDOM_FOOD}\n}\nexport const setLocation = (location) => {\n    return {type:SET_GEOLOCATION,location:location}\n}\n\nexport const setMarkers = (markers) => {\n    return { type:SET_MARKERS,markers:markers}\n}","import React from 'react';\n\nimport { getRandomFood } from '../action'\nimport { useSelector ,useDispatch} from 'react-redux';\nimport Nearby from './Nearby';\n\nimport styled ,{ keyframes }from 'styled-components'\n\n\n\nconst Search = ({className}) => {\n    const searchText = useSelector(state => state.food);\n    const dispatch = useDispatch()\n    \n    return(\n        <div className={className}>\n            <section className={className+\"_wrap\"}>\n                <h1 className={className+\"_title\"}>佛系找食</h1>\n                <h3 className={className+\"_subTitle\"}>總是想不到要吃什麼嗎？<br/>\n                不如就隨緣吧！</h3>\n                <div className={className+\"_sun\"}></div>\n                <div className={className+\"_clouds cloud1\"}>\n                <img src={require('../img/cloud1.svg')} alt=\"\" />      \n                </div>\n                <div className={className+\"_clouds cloud2\"}>\n                <img src={require('../img/cloud2.svg')} alt=\"\"/>      \n                </div>\n                <div className={className+\"_clouds cloud3\"}>\n                <img src={require('../img/cloud3.svg')} alt=\"\"/>      \n                </div>\n            </section>\n            {\n            !searchText &&\n            <button onClick={(evt)=>{ \n                evt.preventDefault();\n                dispatch(getRandomFood())   \n            }}>隨緣尋找\n            </button>}\n\n            {searchText && \n                <>\n                <h2>就決定吃<span style={{'color':'#ffbb00'}}>{searchText}</span>了!</h2>\n                <button onClick={(evt)=>{ \n                    evt.preventDefault();\n                    dispatch(getRandomFood()) }}>讓我再重抽一次</button>\n                <Nearby />\n                </>\n            }\n\n            \n        </div>\n        \n    )\n   \n}\nconst cloudsAnimation = keyframes`\n     0% { transform: translateX(-10%); }\n    100% { transform: translateX(0); }\n`\nconst MainPage = styled(Search)`\n\n    color:#9b9b9b;\n    font-weight:100;\n    &_wrap{\n        overflow: hidden;\n        position:relative;\n    }\n    &_title{\n        font-size: 3rem;\n    }\n    &_subTitle{\n        font-size: 1rem;\n    }\n    &_sun{\n        width: 250px;\n        height: 250px;\n        border-radius:50%;\n        box-shadow: 0 0 80px 0 #fae348;\n        margin: 50px auto 75px; \n        background-image: radial-gradient(circle at 50% 50%, #f5f3d6, #fffab8 71%);\n    }\n    &_clouds{\n        position: absolute;\n        animation: ${cloudsAnimation} 4s infinite alternate;\n        opacity: .8;\n        &.cloud1{\n            top: calc(50% + 50px);\n            left: calc(50% + 150px);\n        }\n        &.cloud2{\n            top: calc(50% - 100px);\n            right: calc(50% + 150px);\n        }\n        &.cloud3{\n            top: 10%;\n            right: 10%;\n            z-index:-1;\n        }\n    }\n   \n    button{\n        appearance: none;\n        min-width: 150px;\n        background:transparent;\n        padding:.5rem 1.5rem;\n        border-radius: 2rem;\n        border: solid 1px #9b9b9b;\n        color:#9b9b9b;\n        outline:0;\n        cursor: pointer;\n        &:hover{\n            background: #9b9b9b;\n            color:#fff;\n        }\n        &:active,&:hover{\n            outline:0;\n        }\n    }\n    .Place_result{\n        display:flex;\n        align-items:top;\n        &_list{\n            width:40%;\n            max-height:400px;\n            overflow-y: scroll;\n        }\n    }\n\n`\nexport  default MainPage;","import React from 'react';\nimport './App.css';\nimport MainPage from './components/Search';\n\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <MainPage></MainPage>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { GET_RANDOM_FOOD, SET_GEOLOCATION ,SET_MARKERS} from './action';\n\n\nconst  success = (pos)=> {\n    var crd = pos.coords;\n    \n    return {\n        lat:crd.latitude,\n        lng:crd.longitude\n    }\n   \n  };\n\nconst initialState = {\n    food: '',\n    foodList:['pizza','麵','雞肉飯','日式','拉麵','速食','泰式','義大利麵','早午餐','韓式','咖喱飯','火鍋','自助餐','美式漢堡','港式','河粉','滷味'],\n    location: window.navigator.geolocation.getCurrentPosition(success),\n    markers:[]\n}\nfunction appFood (state = initialState, action){\n    switch (action.type){\n        case GET_RANDOM_FOOD:\n            return{\n                ...state,\n                food:state.foodList[Math.floor(Math.random() * state.foodList.length)]\n            }\n        case SET_GEOLOCATION:\n            return{\n                ...state,\n                location:{...action.location\n                }\n            }\n        case SET_MARKERS:\n            return{\n                ...state,\n                markers:[...action.markers]\n            }\n        default:\n            return state;\n    }\n}\n\nexport default appFood;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport appFood from './reducer';\n\nlet store = createStore(appFood);\n// console.log(store.getState())\n\n// const unsubscribe = store.subscribe(() =>\n//   console.log(store.getState())\n// )\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}